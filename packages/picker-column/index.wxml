<wxs src="../wxs/utils.wxs" module="utils" />
<wxs src="./index.wxs" module="computed" />

<view
  class="smart-picker-column custom-class"
  style="{{ computed.rootStyle({ itemHeight, visibleItemCount }) }}"
  bind:touchstart="onTouchStart"
  catch:touchmove="onTouchMove"
  bind:touchend="onTouchEnd"
  bind:touchcancel="onTouchEnd"
>
  <view style="{{ computed.wrapperStyle({ offset, itemHeight, visibleItemCount, animate, duration, renderStart, unit }) }}"
  bind:transitionend="onTransitionEnd"
  id="options">
    <view
      wx:for="{{ optionsV }}"
      wx:for-item="option"
      wx:key="index"
      data-index="{{ renderStart + index }}"
      style="height: {{ itemHeight }}px"
      class="smart-ellipsis {{ utils.bem('picker-column__item', { disabled: option && option.disabled, selected: renderStart + index === currentIndex }) }} {{ renderStart + index === currentIndex ? 'active-class' : '' }}"
      bindtap="onClickItem"
    >{{ computed.optionText(option, valueKey) }}</view>
  </view>
  <view wx:if="{{unit}}" class="smart-picker-column__unit" style="height: {{ itemHeight }}px">
    <view class="smart-picker-column__unit_text smart-picker-column__unit_hidden" >{{unit}}</view>
    <text class="smart-picker-column__max-text">{{ maxText }}</text>
    <view class="smart-picker-column__unit_text" >{{unit}}</view>
  </view>
  
</view>
