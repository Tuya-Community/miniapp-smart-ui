<wxs src="../wxs/utils.wxs" module="utils" />
<wxs src="./index.wxs" module="computed" />

<view
  class="{{ utils.bem('picker-column', { disabled }) }} custom-class"
  style="{{ computed.rootStyle({ itemHeight, visibleItemCount }) }}"
  bind:touchstart="onTouchStart"
  catch:touchmove="onTouchMove"
  bind:touchend="onTouchEnd"
  bind:touchcancel="onTouchEnd"
>
  <view class="smart-picker-column__offset" style="{{ computed.wrapperStyle({ animationIndex, itemHeight, duration, unit, moving, optionsVIndexList }) }}" id="options">
    <view
      wx:for="{{ optionsVIndexList }}"
      wx:for-item="optionIndex"
      wx:key="index"
      data-index="{{ renderStart + index }}"
      style="{{computed.wrapperItemStyle({ itemHeight, fontStyle, activeStyle: optionIndex === animationIndex ? activeStyle : '', animationIndex, index: index, visibleItemCount })}}"
      class="smart-picker-column__item_{{index}} {{ computed.wrapperItemClass({ index, renderStart, animationIndex, optionIndex })}}"
    >
      <view
        class="smart-picker-column__item__text"
        style="{{computed.wrapperItemTextStyle({ fontStyle, activeStyle, optionIndex, animationIndex })}}"
      ></view>
    </view>
  </view>
  <view wx:if="{{unit}}" class="smart-picker-column__unit" style="height: {{ itemHeight }}px">
    <view class="smart-picker-column__max-text">
      {{ maxText }}
      <view class="smart-picker-column__unit_text" >{{unit}}</view>
    </view>
  </view>
  
</view>
