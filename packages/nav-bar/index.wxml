<wxs src="../wxs/utils.wxs" module="utils" />
<wxs src="./index.wxs" module="computed" />

<view wx:if="{{ fixed && placeholder }}" style="height: {{ height }}px;" />

<view
  class="{{ utils.bem('nav-bar', { fixed, round, safe: safeAreaInsetTop }) }} custom-class {{ border ? 'smart-hairline--bottom' : '' }}"
  style="{{ computed.barStyle({ zIndex, statusBarHeight, safeAreaInsetTop, background }) }}; {{ customStyle }}"
>
  <view class="smart-nav-bar__content">
    <view class="{{ utils.bem('nav-bar__left', { home: leftTextType === 'home', title: leftTextType === 'title', icon: leftArrow || leftIcon }) }}" bind:tap="onClickLeft">
      <smart-icon
        wx:if="{{ leftArrow }}"
        size="24px"
        hover-class="smart-nav-bar__icon--hover"
        hover-stay-time="70"
        name="{{ leftArrowIcon }}"
        data-type="leftArrow"
        custom-class="smart-nav-bar__arrow"
      />
      <view
        wx:if="{{ leftIcon }}"
        data-type="leftIcon"
        hover-class="smart-nav-bar__icon--hover"
        hover-stay-time="70"
        class="smart-nav-bar__icon-wrap"
        catch:tap="onClickLeftIcon"
      >
        <smart-icon class="left-icon-class" custom-class="smart-nav-bar__icon" size="{{ leftIconSize }}" name="{{ leftIcon }}" color="{{ leftIconColor }}" />
      </view>
      <view
        wx:if="{{ leftText }}"
        class="smart-nav-bar__text left-text-class"
        catch:tap="onClickLeftText"
        hover-class="{{ leftTextType === 'back' ? 'smart-nav-bar__text--hover' : '' }}"
        hover-stay-time="70"
      >
        {{ leftText }}
      </view>
      <slot name="left" />
    </view>
    <view class="smart-nav-bar__title title-class smart-ellipsis" bind:tap="onClickTitle">
      <block>{{ title }}</block>
      <slot name="title" />
    </view>
    <view class="smart-nav-bar__right" bind:tap="onClickRight">
      <view
        wx:if="{{ rightIcon }}"
        data-type="rightIcon"
        hover-class="smart-nav-bar__icon--hover"
        hover-stay-time="70"
        class="smart-nav-bar__icon-wrap"
        catch:tap="onClickRightIcon"
      >
        <smart-icon class="right-icon-class" custom-class="smart-nav-bar__icon" size="{{ rightIconSize }}" name="{{ rightIcon }}" color="{{ rightIconColor }}" />
      </view>
      <view
        wx:if="{{ rightText }}"
        class="smart-nav-bar__text right-text-class"
        style="color: {{ rightTextColor }};"
        hover-class="smart-nav-bar__text--hover"
        hover-stay-time="70"
        catch:tap="onClickRightText"
      >
        {{ rightText }}
      </view>
      <slot name="right" />
    </view>
  </view>
</view>
