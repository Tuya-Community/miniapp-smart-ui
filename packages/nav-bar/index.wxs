/* eslint-disable */
var style = require('../wxs/style.wxs');
var utils = require('../wxs/utils.wxs');

function barStyle(data) {
  return style({
    'z-index': data.zIndex,
    'padding-top': data.safeAreaInsetTop ? data.statusBarHeight + 'px' : 0,
    background: data.background,
  });
}

function getSideClassObj(data) {
  var classObj = {};
  if (data.sideWidth === 'max') {
    classObj.max = true;
  } else if (data.sideWidth === 'min') {
    classObj.min = true;
  } else {
    classObj.mid = true;
  }
  return classObj;
}

function leftClass(data) {
  return utils.bem('nav-bar__left', Object.assign(getSideClassObj(data), {
    home: data.leftTextType === 'home',
    title: data.leftTextType === 'title',
    text: !!data.leftText,
    icon: data.leftArrow || data.leftIcon,
  }))
}

function rightClass(data) {
  return utils.bem('nav-bar__right', Object.assign(getSideClassObj(data), {
    text: !!data.rightText,
  }))
}

function sideStyle(data) {
  var isDefaultWidth = ['min', 'max', 'mid'].includes(data.sideWidth);
  var width = '';
  if (!isDefaultWidth && data.sideWidth) { 
    if (typeof data.sideWidth === 'string' && data.sideWidth.includes('px')) { 
      width = data.sideWidth;
    } else {
      width = data.sideWidth + 'px';
    }
  }
  return width ? 'width: ' + width + ';' : '';
}

module.exports = {
  barStyle: barStyle,
  leftClass: leftClass,
  rightClass: rightClass,
  sideStyle: sideStyle,
};
